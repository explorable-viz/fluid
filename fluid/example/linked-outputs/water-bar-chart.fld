let totalFor country =
    sum [row.cities + row.farms + row.industry + row.energy | row <- data, row.country == country];
let countryData = [ {x: country.country, y: totalFor country.country}
                   | country <- data]
in BarChart {
    caption: "Total Water Consumption By Country",
    data: countryData
}
